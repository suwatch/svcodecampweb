@using Kendo.Mvc.UI
@model WebAPI.ViewModels.CommonViewModel

<script type="text/javascript">
    var x = $(document).ready(function() {
        debugger;
        var sessions = $('#SessionsTable tr:not(thead tr)').each(function () {
            debugger;
            var localThis = $(this);
            var sessionId = localThis.data("id");
            var sessionTitle = $(localThis).find('td .sessionTitle')[0].innerHTML;
            var sessionDescription = $(localThis).find('td .sessionDescription')[0].innerHTML;
            var sessionTime = $(localThis).find('td .timeIcon')[0].innerHTML;
            var sessionRoomNuimber = $(localThis).find('td .roomNumber')[0].innerHTML;
            var sessionUrl = $(localThis).find('td .sessionUrl a')[0].href;

            debugger;

            // $(localThis).find('td .speakerInfo')[0]
            //$(localThis).find('td .speakerInfo')[0].children.each(function(indexCnt) {
            //    var localThisSpeaker = $(this);
            //    debugger;
            //});


        });
    });

</script>




<div id="example" class="k-content">


    <div class="sessionsWrap">

        <div id="selectOptionsWrap" class="selectOptionsWrap">
            <div class="option">
                <div class="icon"></div>
                <div class="label">Not Interested</div>
            </div>
            <div class="option interested">
                <div class="icon"></div>
                <div class="label">Interested</div>
            </div>
            <div class="option attending">
                <div class="icon"></div>
                <div class="label">Attending</div>
            </div>
        </div>

        <div class="floatingPanel detailsFloatingPanel" id="detailsFloatingPanel">
            <div class="closePanelButton">
                <div class="icon"></div>
            </div>
            <div class="contentWrap">
                <div class="content">
                    <div class="sessionWrap">
                        <div class="textWrap">
                            <h3 class="title"></h3>
                            <div class="details">
                                <span class="timeIcon"></span>Saturday, 5 PM <span class="mapLocationIcon"></span>Room 302, Lot 1 &nbsp;<a href="#">Map</a>
                            </div>
                            <p class="description"></p>
                        </div>
                        <div class="footer">
                            <div class="buttonWrap">
                                <a href="#" class="button round blue">READ MORE</a>
                            </div>
                        </div>
                    </div>
                    <div class="speakerWrap">
                        <div class="title">Speaker</div>
                        <div class="speakerList">
                            <div class="avatarWrap">
                                <img class="speakerAvatar" src="~/Content/Images/speaker-avatar-sample.png" />
                            </div>
                            <div class="speakerInfo">

                            </div>
                        </div>
                        <!--
                            <div class="sessionType">
                                <span class="label">Type</span>
                                <br />
                                Conference (<a href="#">What is it?</a>)
                            </div>
                            -->
                    </div>
                </div>
            </div>
            <div class="footer">
                <div class="pointer"></div>
            </div>
        </div>

      

    

        <div class="sessionsFilterWrap roundBorder">
            <div class="header"><div class="arrow active"><span class="icon"></span></div><div class="label">FILTERS</div></div>
            <div class="filterContentWrap active">
                <div class="filterOptionsWrap">
                    <div class="daysFilterWrap">
                        <div class="labelWrap">
                            <span class="icon"></span><span class="label">Day : </span>
                        </div>
                        <div class="optionsWrap">
                            <ul id="sessionDaysCheckboxList">
                                <li class="showAll selected"><span class="checkbox"></span><span class="label">Show all</span></li>
                                <li class="saturday"><span class="checkbox"></span><span class="label">Saturday</span></li>
                                <li class="sunday"><span class="checkbox"></span><span class="label">Sunday</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="timeFilterWrap">
                        <div class="labelWrap">
                            <span class="icon"></span><span class="label">Time : </span>
                        </div>
                        <div class="optionsWrap">
                            @{
                                var previousDay = "";
                                var sessionDayTimeCount = Model.SessionTimeResults.Count - 1;
                                var i = 0;
                            }
                        
                            @foreach (var timeResult in Model.SessionTimeResults)
                            {
                                                   
                            
                                if (previousDay != timeResult.StartTimeFriendlyDay)
                                {
                                    previousDay = timeResult.StartTimeFriendlyDay;
                                    @:<div class="timeOption @timeResult.StartTimeFriendlyDay">
                                    <div class="dayLabel"><span class="icon"></span><span class="label">@(@timeResult.StartTimeFriendlyDay): </span></div>
                                    @:<div class="timesWrap">
                                    @:<ul>

                                }                             
                                <li><span class="checkbox"></span><span class="label">@(timeResult.StartTimeFriendlyTime)</span></li>

                                if (i == sessionDayTimeCount || Model.SessionTimeResults[i+1].StartTimeFriendlyDay != previousDay)
                                {
                                    @:</ul>
                                    @:</div>
                                    @:</div>
                                
                                }
                            
                                if (i <= sessionDayTimeCount)
                                {
                                    i++;
                                } 
                             
                            }
                        
                        </div>
                    </div>
                    <!--
                        <div class="categoryFilterWrap">
                            <div class="labelWrap">
                                <span class="icon"></span><span class="label">Category : </span>
                            </div>
                            <div class="optionsWrap">
                                <ul>
                                    <li class="selected"><span class="checkbox"></span><span class="label">Technology</span></li>
                                    <li><span class="checkbox"></span><span class="label">Business</span></li>
                                    <li><span class="checkbox"></span><span class="label">Career</span></li>
                                    <li><span class="checkbox"></span><span class="label">Kids</span></li>
                                    <li><span class="checkbox"></span><span class="label">Software Management</span></li>
                                </ul>
                            </div>
                        </div>
                        -->
                    <div class="tagsFilterWrap">
                        <div class="labelWrap">
                            <span class="icon"></span><span class="label">Tags : </span>
                        </div>
                        <div class="optionsWrap">
                            <ul>
                                <li class="selected"><span class="checkbox"></span><span class="label">C++</span></li>
                                <li class="selected"><span class="checkbox"></span><span class="label">.NET</span></li>
                                <li class="selected"><span class="checkbox"></span><span class="label">Database</span></li>
                                <li><span class="checkbox"></span><span class="label">Linq2SQL</span></li>
                            </ul>
                        </div>
                        <div class="buttonRightWrap">
                            <div class="tagFiltersButton" id="tagFiltersButton"><div class="label"><span>Tag Filters</span></div><div class="arrow"><span class="icon"></span></div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
    


        <div class="sessionGroupSearchWrap ">
            <div class="groupWrap">
                <div class="label">Group sessions by</div>
                <div class="groupSessionsSelect">
                    <div class="roundSelect">
                        <div class="select"><div class="label"><span class="text">Time</span></div><div class="arrow"></div></div>
                    </div>
                </div>
            </div>
            <div class="searchWrap">
                <div class="label">Search: </div>
                <div class="searchInputWrap">
                    <div class="searchTypeWrap">
                        <div class="select"><div class="label"><span class="text">Keyword</span></div><div class="arrow"></div></div>
                    </div>
                    <div class="inputWrap">
                        <input type="text" value="Type your search..." />
                    </div>
                    <div class="searchButtonWrap">
                        <input type="button" class="searchButton" value="" />
                    </div>
                </div>
            </div>
        </div>

        <div class="sessionsList">
            @* <h4>Saturday, 11:15 AM</h4>*@
            <table id="SessionsTable">
                
                 <thead>
                    <tr>
                        <th data-field="Title"></th>
                        <th data-field="InterestLevel"></th>
                        <th data-field="Details"></th>
                      
                    </tr>
                </thead>

                @foreach (var session in Model.Sessions.Take(5))
                {
    
                    <tr id="session_@session.Id" data-id="@session.Id"  class="session">
                        <td class="sessionDetails"   id="sessionDetails_@session.Id" width="330">

                        
                            @*BELOW, PresenterURL goes to link inside code camp*@

                            <span class="sessionTitle" id="sessionTitle_@session.Id">@session.TitleEllipsized</span>
                            <br />
                            <i>by</i>
                            @{ var multipleSpeakerSeparator = " "; }
                            @foreach (var speaker in session.SpeakersList)
                            {
                                @multipleSpeakerSeparator <a href="@(speaker.SpeakerLocalUrl)" class="author" id="speaker_@(speaker.AttendeeId)" speakerId="@speaker.AttendeeId"> @speaker.UserFirstName @speaker.UserLastName </a>multipleSpeakerSeparator = ",";
                            }
                          
                            <span class="timeIcon">@session.SessionTime</span> <span class="mapLocationIcon roomNumber">Room @session.RoomNumber</span> <!-- <a href="#">Map</a> -->
                           
                            <div class="sessionDescription"  id="sessionDescription_@session.Id">@session.Description</div>
                            <div class="sessionUrl"  id="sessionUrl_@session.Id"><a href="@(session.SessionUrl)" title="@session.TitleEllipsized" class="button round blue">READ MORE</a></div>
                            <div class="speakerInfo"  id="speakerInfoList_@session.Id">

                                @foreach (var speaker in session.SpeakersList)
                                {

                                    <div class="speakerInfoItem">
                                        <div class="avatarWrap">
                                            <img class="speakerAvatar" src="@(speaker.ImageUrl)?width=55" />
                                        </div>
                                        <div class="speakerInfoItem">
                                            <div id="authorLinkContainer_@(session.Id)_@speaker.AttendeeId" class="speakerBio"  ></div>
                                            <p>
                                                @speaker.UserBio
                                            </p>
                                        </div>
                                    </div>
                                }

                            </div>
                        </td>
                        <td class="action">
                            <div class="interestSelectBtn" id="interestSelectBtn_@session.Id">
                                <div class="select"><div class="label"><span class="icon"></span><span class="text">Not Interested</span></div><div class="arrow"></div></div>
                            </div>
                        </td>
                        <td class="details">
                            <div class="detailsBtn" id="detailsBtn_@session.Id" sessionId="@session.Id">
                                <div class="icon"></div>
                                <div class="label">Details</div>
                            </div>
                        </td>
                    </tr>
                }
            </table>
        </div>


    </div>
    
    
    
    
    
</div>

